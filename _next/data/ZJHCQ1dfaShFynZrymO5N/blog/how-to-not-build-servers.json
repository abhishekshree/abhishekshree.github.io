{"pageProps":{"post":{"mdxSource":{"compiledSource":"\"use strict\";\n\nvar _excluded = [\"components\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar layoutProps = {};\nvar MDXLayout = \"wrapper\";\n\nfunction MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"Lets talk about two versions of the same application, the famous Puppy Love. I will be comparing the one \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppy-love\"\n  }, \"Saksham\"), \" wrote back in 2017 to what has been changed this \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppylove2.0_backend/\"\n  }, \"tenure\"), \" in 2024. \"), mdx(\"p\", null, \"One obvious difference, lack of any Git manners at all. I mean, commits are meant to have a meaning when you push, pull requests are meant to be \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"reviewed\"), \". Seems like people are forgetting all of that (use \", mdx(\"inlineCode\", {\n    parentName: \"p\"\n  }, \"squash\"), \" for the very least).\"), mdx(\"p\", null, \"Kubernetes was introduced this time, which is a step in the right direction, but, it is meant to \", mdx(\"em\", {\n    parentName: \"p\"\n  }, \"load balance\"), \" a microservices based architecture which was removed from the OG iteration?? Also, could have kept replicas atleast. There's a vault to keep values \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/kubernetes/deployments/db-core-deployment.yaml#L27\"\n  }, \"this\"), \" sensative in Kubernetes itself, putting up such a plaintext multiple times, really defeats the purpose of any CI/CD altogether (which is also not there btw).\"), mdx(\"p\", null, \"The frontend repo is something I won't comment about as it is too bad with a inconsistent UI inside.\"), mdx(\"p\", null, \"The new backend, seems like a primitive version of the older one. The \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/main.go#L39\"\n  }, \"one thing\"), \" you definitely not do with real servers. Tests are linear in nature, don't call them stress tests atleast. The architecture in the OG server was so well laid, I don't understand the point of ruining it with a monolith (then ironically using kubernetes).\"), mdx(\"p\", null, \"Why are models the way they are, partly copied, partly unused, I mean \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/models/user.go#L13\"\n  }, \"bson\"), \"? One quick tip, you fetch configs in a global struct, and not \", mdx(\"a\", {\n    parentName: \"p\",\n    \"href\": \"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/db/database.go#L19C1-L23C36\"\n  }, \"this\"), \".\"), mdx(\"p\", null, \"Coming to the mail service, it was possibly the best thing I saw on the OG server, with the channel usage, understanding and using it would have been so much better than removing such a nice thing altogether. I don't know how the mailer even survived throughout the week. It is so good in the OG server, using it even for RAS was of a lot of use with 1000 people getting emails about openings at one time.\"), mdx(\"p\", null, \"As some general remarks, I saw no use of goroutines, channels, all the good stuff which comes exclusively with Go. This server seem more like a dummy learning project instead of something real, ready to use. Using errorgroups would have been the least to do as a check against failures but all of it missing, lets not even talk logs. The whole blog might seem too critical but it's funny to see all of this being ignored in the first place. \"), mdx(\"p\", null, \"Broadly, things needs to be advertised less before ensuring it is up to the mark to be sold to everyone. Something to keep in mind maybe. Disappointing.\"));\n}\n\n;\nMDXContent.isMDXComponent = true;","renderedOutput":"<p>Lets talk about two versions of the same application, the famous Puppy Love. I will be comparing the one <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppy-love\">Saksham</a> wrote back in 2017 to what has been changed this <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppylove2.0_backend/\">tenure</a> in 2024. </p><p>One obvious difference, lack of any Git manners at all. I mean, commits are meant to have a meaning when you push, pull requests are meant to be <em>reviewed</em>. Seems like people are forgetting all of that (use <code>squash</code> for the very least).</p><p>Kubernetes was introduced this time, which is a step in the right direction, but, it is meant to <em>load balance</em> a microservices based architecture which was removed from the OG iteration?? Also, could have kept replicas atleast. There&#x27;s a vault to keep values <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/kubernetes/deployments/db-core-deployment.yaml#L27\">this</a> sensative in Kubernetes itself, putting up such a plaintext multiple times, really defeats the purpose of any CI/CD altogether (which is also not there btw).</p><p>The frontend repo is something I won&#x27;t comment about as it is too bad with a inconsistent UI inside.</p><p>The new backend, seems like a primitive version of the older one. The <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/main.go#L39\">one thing</a> you definitely not do with real servers. Tests are linear in nature, don&#x27;t call them stress tests atleast. The architecture in the OG server was so well laid, I don&#x27;t understand the point of ruining it with a monolith (then ironically using kubernetes).</p><p>Why are models the way they are, partly copied, partly unused, I mean <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/models/user.go#L13\">bson</a>? One quick tip, you fetch configs in a global struct, and not <a target=\"_blank\" rel=\"noopener noreferrer\" style=\"text-decoration:none\" href=\"https://github.com/pclubiitk/puppylove2.0_backend/blob/a0de8a115dc4435c225a855647d7a8a986434c4c/db/database.go#L19C1-L23C36\">this</a>.</p><p>Coming to the mail service, it was possibly the best thing I saw on the OG server, with the channel usage, understanding and using it would have been so much better than removing such a nice thing altogether. I don&#x27;t know how the mailer even survived throughout the week. It is so good in the OG server, using it even for RAS was of a lot of use with 1000 people getting emails about openings at one time.</p><p>As some general remarks, I saw no use of goroutines, channels, all the good stuff which comes exclusively with Go. This server seem more like a dummy learning project instead of something real, ready to use. Using errorgroups would have been the least to do as a check against failures but all of it missing, lets not even talk logs. The whole blog might seem too critical but it&#x27;s funny to see all of this being ignored in the first place. </p><p>Broadly, things needs to be advertised less before ensuring it is up to the mark to be sold to everyone. Something to keep in mind maybe. Disappointing.</p>","scope":{}},"frontMatter":{"wordCount":436,"readingTime":{"text":"3 min read","minutes":2.175,"time":130500,"words":435},"slug":"how-to-not-build-servers","fileName":"how-to-not-build-servers.mdx","title":"How to not build servers","date":"2024-03-02","tags":["backend","go","system-design"],"draft":false,"summary":"Why you should appreciate what already exists before disrupting it.","images":[]}},"prev":{"title":"Engineering RAS - Next bits","date":"2023-12-18","tags":["system design","go","product","RAS"],"draft":false,"summary":"Answering some of the questions, and some more thoughts.","images":[],"slug":"engineering-ras-next-bits"},"next":{"title":"Guide for spending midsem breaks","date":"2024-06-06","tags":["life","travel"],"draft":false,"summary":"A story of all the chaos I created in the past years","images":[],"slug":"guide-for-spending-midsem-breaks"}},"__N_SSG":true}